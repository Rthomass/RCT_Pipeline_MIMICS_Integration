# Usage 

This is a set of scripts to follow the rct-pipeline created by ([Wanxin](https://github.com/Rthomass/test/edit/main/README.md)). Its purpose is to:  

i. First, output a segment level csv dataset for each tile and plot.  
ii. then using the segment level dataset, create a input parameter dataset suitable for the mimics model
iii. A rapper script then 
iv. run mimics and create a new dataset including all input parameters and radar backscatter reponse.

## Segment Level CSV Dataset 
The first script creates a csv containing the segment data for all trees in each plot & tile. 

Before running ensure the rct-pipeline has been used to produce a directory of tree files describing the structrual attributes of each tree segment of the QSM. 

File name example: 
.../rct_extraction/angola_p02_raycloud_-2_1_treesplit/angola_p02_raycloud_-2_1_trees_12_info.txt

Additionally, a reference file containing  quality assessments is required (see matched_stems_picked.csv). This is just a list of tree ids that have been manually checked to determine quality. If using your own list ensure you record the height at which the crown starts for later calcualtions. 



i. a library of output files in the 
Documents/Thesis/mimics/TLS-QSM_results_angola_bicuar_tree/angola_results/rct_extraction/angola_p02_raycloud_-1_0_treesplit/angola_p02_raycloud_-1_0_trees_1_info.txt












## Prerequisites 



## Input Files
matched_stems_picked.csv: 




Tree info files: *_trees_*_info.txt files generated by treeinfo containing segment data
Leaf files: *_leaves.ply files containing 3D mesh data for leaf area calculations
## Explanation
1. This script processes the tree data to create datasets for research. It starts by reading a reference file that identifies which trees are marked as "good" quality. 
2.
3.   then searches through the rct-pipeline directories generated by the treeinfo tool to find matching data. For each good tree, it extracts detailed segment information, calculates leaf area from 3D mesh files when available, and combines all the data into organized CSV files grouped by plot and tile coordinates. The result is a clean dataset that merges tree structural data, segment attributes, and leaf measurements for further analysis.
Input Files



Output
CSV files named angola_{plot_id}_{tile_coords}_combined.csv containing merged tree data for analysis.


